"use strict";hexo.extend.helper.register("list_category",(function(e,t){if(t||e&&Object.prototype.hasOwnProperty.call(e,"length")||(t=e,e=this.site.categories),!e||!e.length)return"";t=t||{};const{style:a="list",transform:s,separator:r=", ",suffix:l=""}=t,n=!Object.prototype.hasOwnProperty.call(t,"show_count")||t.show_count,i=t.class||"category",c=t.depth?parseInt(t.depth,10):0,o=t.orderby||"name",h=t.order||1,p=t.show_current||!1,g=!!Object.prototype.hasOwnProperty.call(t,"children_indicator")&&t.children_indicator;let $=!1,f=[],u=[],d={};hexo.theme.config.categoryBar&&(d=hexo.theme.config.categoryBar),hexo.theme.config.category&&(d=hexo.theme.config.category),$=d.enable,f=d.cover,u=d.descr;const m=t=>{const a={};return a.parent=t||{$exists:!1},e.find(a).sort(o,h).filter((e=>e.length))},y=(e,t)=>{let a="";return m(t).forEach(((t,r)=>{let o;(!c||e+1<c)&&(o=y(e+1,t._id));let h=!1;if(p&&this.page){for(let e=0;e<t.length;e++){const a=t.posts.data[e];if(a&&a._id===this.page._id){h=!0;break}}h=h||this.page.base&&this.page.base.startsWith(t.path)}a+=`<li class="${i}-list-item${o&&g?` ${g}`:""}">`,a+=`<a class="${i}-list-link${h?" current":""}" href="/${t.path}${l}">`,a+=s?s(t.name):t.name,a+="</a>",n&&(a+=`<span class="${i}-list-count">${t.length}</span>`),o&&(a+=`<ul class="${i}-list-child">${o}</ul>`),a+="</li>"})),a},_=(e,t)=>{let a="";return m(t).forEach(((t,o)=>{(o||e)&&(a+=r),a+=`<a class="${i}-link" href="/${t.path}${l}">`,a+=s?s(t.name):t.name,n&&(a+=`<span class="${i}-count">${t.length}</span>`),a+="</a>",(!c||e+1<c)&&(a+=_(e+1,t._id))})),a};return $?`<div class="category_card_wrap">${((e,t)=>{let a=f.map((e=>e.slice(5,-2))),c="";return m(t).forEach(((t,o)=>{(o||e)&&(c+=r),c+='<figure class="effect-apollo">',c+=`<img src="${a[o]}" alt="${u[o]}"><figcaption>`,c+="<h3>",c+=s?s(t.name):t.name,c+="</h3>",n&&(c+=`<p>${t.length}</p>`),c+=`<a class="${i}-list-link" href="/${t.path}${l}">${t.name}</a>`,c+="</figcaption></figure>"})),c})(0)}</div>`:"list"===a?`<ul class="${i}-list">${y(0)}</ul>`:_(0)}));